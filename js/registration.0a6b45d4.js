(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["registration"],{"3fd1":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"container"},[t("div",{staticClass:"box"},[t("h1",[e._v("新規登録")]),t("form",{on:{submit:function(r){return r.preventDefault(),e.onRegister(r)}}},[t("label",{attrs:{for:"username"}},[e._v("ユーザーネーム")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{required:"",type:"text",id:"username"},domProps:{value:e.name},on:{input:function(r){r.target.composing||(e.name=r.target.value)}}}),e.isUserNameViolated&&0!==e.name.length?t("div",{staticClass:"errorMessage"},[e._v(" ユーザーネームは英数字と_のみを使用し20文字以下にしてください ")]):e._e(),t("label",{attrs:{for:"full_name"}},[e._v("フルネーム")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.full_name,expression:"full_name"}],attrs:{required:"",type:"text",id:"full_name"},domProps:{value:e.full_name},on:{input:function(r){r.target.composing||(e.full_name=r.target.value)}}}),t("label",{attrs:{for:"password"}},[e._v("パスワード")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{required:"",type:"password",id:"password"},domProps:{value:e.password},on:{input:function(r){r.target.composing||(e.password=r.target.value)}}}),e.isUserPasswordViolated&&0!==e.password.length?t("div",{staticClass:"errorMessage"},[e._v(" パスワードの長さは6文字以上72文字以下にしてください ")]):e._e(),t("label",{attrs:{for:"password_confirm"}},[e._v("パスワード(確認)")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirm,expression:"password_confirm"}],attrs:{required:"",type:"password",id:"password_confirm"},domProps:{value:e.password_confirm},on:{input:function(r){r.target.composing||(e.password_confirm=r.target.value)}}}),e.passwordConfirmationError&&0!==e.password_confirm.length?t("div",{staticClass:"errorMessage"},[e._v(" パスワードが一致しません ")]):e._e(),t("button",{attrs:{type:"submit",disabled:e.isUserNameViolated||e.passwordConfirmationError||e.isUserPasswordViolated}},[e._v(" Register ")]),t("ErrorMessage",{attrs:{error:e.registrationError}})],1)])])},s=[],n=(t("b0c0"),t("96cf"),t("1da1")),o=t("5530"),i=t("2f62"),u=t("8e27"),c={name:"registration",metaInfo:{title:"部員登録"},components:{ErrorMessage:u["a"]},data:function(){return{name:"",full_name:"",password:"",password_confirm:"",registration_token:""}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["e"])("user",["tokenVerificationError","registrationError"])),Object(i["e"])("session",["loginError"])),{},{isUserNameViolated:function(){return!/^[A-Za-z0-9_]{1,20}$/.test(this.name)},passwordConfirmationError:function(){return 0===this.password_confirm.length||this.password!==this.password_confirm},isUserPasswordViolated:function(){var e=this.password.length;return e<6||e>72}}),created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.registration_token=e.$route.params.token,r.next=3,e.verifyRegistrationToken(e.registration_token);case 3:e.tokenVerificationError&&e.createError(e.tokenVerificationError);case 4:case"end":return r.stop()}}),r)})))()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(i["b"])("criticalError",["createError"])),Object(i["b"])("user",["verifyRegistrationToken","register"])),Object(i["b"])("session",["login"])),{},{onRegister:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.register({name:e.name,full_name:e.full_name,password:e.password,registration_token:e.registration_token});case 2:if(e.registrationError){r.next=6;break}return r.next=5,e.login({name:e.name,password:e.password});case 5:e.loginError?e.$router.push({name:"login"}):e.$router.push({name:"home"});case 6:case"end":return r.stop()}}),r)})))()}})},d=c,m=(t("62b0"),t("2877")),l=Object(m["a"])(d,a,s,!1,null,"a7130006",null);r["default"]=l.exports},"62b0":function(e,r,t){"use strict";var a=t("ddbb"),s=t.n(a);s.a},ddbb:function(e,r,t){}}]);
//# sourceMappingURL=registration.0a6b45d4.js.map